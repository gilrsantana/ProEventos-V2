<div class="card rounded shadow-sm">
    <form [formGroup]="form">
        <div class="p-3">
<!--             
                Teste para verificação dos campos de formulário 
                <p>Form value: {{form.value | json}}</p>
                <p>Form valid : {{form.status | json}}</p> 
             -->
            <div class="row">
                <div class="form-group col-md-12 mb-4">
                    <label for="" class="mb-1">Tema</label>
                    <!-- 
                        O controls utilizado abaixo, 
                        se refere ao método get controls() 
                        do evento-detalhe.component.ts
                    -->
                    <input type="text" 
                        class="form-control is-invalid" 
                        [ngClass]="cssValidator(controls['tema'])"
                        formControlName="tema" 
                        placeholder="Insira o Tema">
                    <div *ngIf="controls['tema'].errors?.['required']" class="invalid-feedback">
                        Tema é obrigatório
                    </div>
                    <div *ngIf="controls['tema'].errors?.['minlength']" class="invalid-feedback">
                        Tema deve ter no mínimo {{minTemaLength}} caracteres
                    </div>
                    <div *ngIf="controls['tema'].errors?.['maxlength']" class="invalid-feedback">
                        Tema deve ter no máximo {{maxTemaLength}} caracteres
                    </div>
                </div>
            </div>
            <div class="row">
                <div class="form-group col-md-8 mb-4">
                    <label for="" class="mb-1">Local</label>
                    <input type="text" 
                        class="form-control" 
                        [ngClass]="cssValidator(controls['local'])"
                        formControlName="local" 
                        placeholder="Local do evento">
                    <div *ngIf="controls['local'].errors?.['required']" class="invalid-feedback">
                        Local é obrigatório
                    </div>
                </div>
                <div class="form-group col-md-4 mb-4">
                    <label for="" class="mb-1">Data e Hora</label>
                    <input type="datetime" 
                        class="form-control " 
                        [ngClass]="cssValidator(controls['dataEvento'])"
                        formControlName="dataEvento" 
                        placeholder="Data e Hora do evento"
                        bsDatepicker 
                        [bsConfig]="bsConfig"
                        value="{{evento.dataEvento | dateTimePipeBr}}"
                        >
                    <div *ngIf="controls['dataEvento'].errors?.['required']" class="invalid-feedback">
                        Data e Hora é obrigatório
                    </div>
                    <div *ngIf="controls['dataEvento'].errors?.['min']" class="invalid-feedback">
                        Data e Hora deve ser maior ou igual que {{minDataEvento}}
                    </div>
                </div>
            </div>
            <div class="row">
                <div class="form-group col-md-2 mb-4">
                    <label for="" class="mb-1">Qtd Pessoas</label>
                    <input type="number" 
                        class="form-control" 
                        [ngClass]="cssValidator(controls['qtdPessoas'])"
                        formControlName="qtdPessoas" 
                        placeholder=""
                        min="1">
                    <div *ngIf="controls['qtdPessoas'].errors?.['required']" class="invalid-feedback">
                        Qtd Pesssoas é obrigatório
                    </div>
                    <div *ngIf="controls['qtdPessoas'].errors?.['max']" class="invalid-feedback">
                        Qtd Pesssoas não deve ser maior que {{maxQtdPessoas}}
                    </div>
                </div>
                <div class="form-group col-md-2 mb-4">
                    <label for="" class="mb-1">Telefone</label>
                    <input type="text" 
                        class="form-control" 
                        [ngClass]="cssValidator(controls['telefone'])"
                        formControlName="telefone" 
                        placeholder="(00) 0000-0000"
                        [mask]="telMask">
                    <div *ngIf="controls['telefone'].errors?.['required']" class="invalid-feedback">
                        Telefone é obrigatório
                    </div>
                </div>
                <div class="form-group col-md-4 mb-4">
                    <label for="" class="mb-1">Email</label>
                    <input type="text" 
                        class="form-control" 
                        [ngClass]="cssValidator(controls['email'])"
                        formControlName="email" 
                        placeholder="e-mail">
                    <div *ngIf="controls['email'].errors?.['required']" class="invalid-feedback">
                        E-mail é obrigatório
                    </div>
                    <div *ngIf="controls['email'].errors?.['email']" class="invalid-feedback">
                        Deve ser um e-mail válido
                    </div>
                </div>
                <div class="form-group col-md-4 mb-4">
                    <label for="" class="mb-1">Imagem</label>
                    <input type="text" 
                        class="form-control" 
                        [ngClass]="cssValidator(controls['imagemURL'])"
                        formControlName="imagemURL" 
                        placeholder="Endereço imagem">
                    <div *ngIf="controls['imagemURL'].errors?.['required']" class="invalid-feedback">
                        Imagem é obrigatório
                    </div>
                </div>
            </div>
        </div>
        <div class="card-footer">
            <div class="d-flex justify-content-between py-3">
                <button class="btn btn-outline-secondary mr-auto border" (click)="resetForm($event)">
                    Cancelar Alteração
                </button>
                <button class="btn btn-success" (click)="salvarEvento()">
                    Salvar Evento
                </button>
            </div>
        </div>
    </form>
</div>
<div class="card rounded shadow-sm mt-4">
    <div class="p-3">
      <div class="d-flex border-bottom justify-content-between">
        <h2 class="mr-auto">
          Lotes do Evento
        </h2>
        <h2>
          <i class="fas fa-money-bill-wave"></i>
        </h2>
      </div>
      <p>Clique em Lote para adicionar e preencher novos Lotes</p>
      <div class="form-row p-1">
        <div class="col">
          <div>
            <fieldset class="form-group">
              <legend class="d-flex justify-content-between capitalize">
                <button class="p-2 btn btn-sm btn-outline-warning mb-4 d-flex"
                  tooltip="Excluir Lote"
                  [adaptivePosition]="false"
                  [delay]="500"
                  placement="left">
                <i class="fa fa-window-close my-1 me-2"></i>
                <b class="d-none d-sm-block">Excluir</b>
              </button>
            </legend>
            <div class="row">
              <div class="form-group col-md-4 mb-3">
                <label class="mb-2">Nome</label>
                <input type="text" class="form-control" formControlName="nome" placeholder="Lote">
              </div>
              <div class="form-group col-md-4 mb-3">
                <label class="mb-2">Quantidade</label>
                <input type="text" class="form-control" formControlName="quantidade" placeholder="000">
              </div>
              <div class="form-group col-md-4 mb-3">
                <label class="mb-2">Preço</label>
                <input type="text" currencyMask class="form-control" formControlName="preco" placeholder="R$ 0,00">
              </div>
              <div class="form-group col-md-4 mb-3">
                <label class="mb-2">Data Início</label>
                <input type="text" class="form-control" formControlName="dataInicio" placeholder="01/01/2019">
              </div>
              <div class="form-group col-md-4 mb-3">
                <label class="mb-2">Data Fim</label>
                <input type="text" class="form-control" formControlName="dataFim" placeholder="01/01/2019">
              </div>
            </div>
          </fieldset>
        </div>
      </div>
    </div>
    <button class="d-flex btn btn-outline-primary">
      <i class="fa fa-plus-circle my-1 me-2"></i>
      <b class="">Lote</b>
    </button>
  </div>
  <div class="card-footer">
    <div class="d-flex justify-content-between py-3">
      <button class="btn btn-outline-secondary mr-auto border">
        Cancelar Alteração
      </button>
      <button class="btn btn-success">
        Salvar Lotes
      </button>
    </div>
  </div>
</div>
